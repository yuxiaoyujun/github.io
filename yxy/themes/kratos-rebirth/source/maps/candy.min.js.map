{"version":3,"sources":["candy.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","Number","Circle","_ref","origin","speed","color","angle","context","this","position","renderCount","fillStyle","beginPath","arc","x","y","Math","PI","fill","sin","cos","Boom","_ref2","_ref2$circleCount","circleCount","area","stop","circles","range","floor","random","randomArray","start","end","circle","randomColor","randomRange","_this","index","width","height","splice","move","draw","CursorSpecialEffects","computerCanvas","document","createElement","renderCanvas","computerContext","getContext","renderContext","globalWidth","window","innerWidth","globalHeight","innerHeight","booms","running","e","boom","clientX","clientY","init","run","style","top","left","zIndex","pointerEvents","body","append","addEventListener","handleMouseDown","bind","handlePageHide","_this2","requestAnimationFrame","clearRect","drawImage","cursorSpecialEffects"],"mappings":"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","file":"../js/candy.min.js","sourcesContent":["// Copied from [DIYgod's Hexo Theme Sagiri](https://github.com/DIYgod/diygod.me/blob/master/themes/sagiri/)\n\nclass Circle {\n    constructor({ origin, speed, color, angle, context }) {\n      this.origin = origin\n      this.position = { ...this.origin }\n      this.color = color\n      this.speed = speed\n      this.angle = angle\n      this.context = context\n      this.renderCount = 0\n    }\n  \n    draw() {\n      this.context.fillStyle = this.color\n      this.context.beginPath()\n      this.context.arc(this.position.x, this.position.y, 2, 0, Math.PI * 2)\n      this.context.fill()\n    }\n  \n    move() {\n      this.position.x = (Math.sin(this.angle) * this.speed) + this.position.x\n      this.position.y = (Math.cos(this.angle) * this.speed) + this.position.y + (this.renderCount * 0.3)\n      this.renderCount++\n    }\n  }\n  \n  class Boom {\n    constructor ({ origin, context, circleCount = 10, area }) {\n      this.origin = origin\n      this.context = context\n      this.circleCount = circleCount\n      this.area = area\n      this.stop = false\n      this.circles = []\n    }\n  \n    randomArray(range) {\n      const length = range.length\n      const randomIndex = Math.floor(length * Math.random())\n      return range[randomIndex]\n    }\n  \n    randomColor() {\n      const range = ['8', '9', 'A', 'B', 'C', 'D', 'E', 'F']\n      return '#' + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range)\n    }\n  \n    randomRange(start, end) {\n      return (end - start) * Math.random() + start\n    }\n  \n    init() {\n      for(let i = 0; i < this.circleCount; i++) {\n        const circle = new Circle({\n          context: this.context,\n          origin: this.origin,\n          color: this.randomColor(),\n          angle: this.randomRange(Math.PI - 1, Math.PI + 1),\n          speed: this.randomRange(1, 6)\n        })\n        this.circles.push(circle)\n      }\n    }\n  \n    move() {\n      this.circles.forEach((circle, index) => {\n        if (circle.position.x > this.area.width || circle.position.y > this.area.height) {\n          return this.circles.splice(index, 1)\n        }\n        circle.move()\n      })\n      if (this.circles.length == 0) {\n        this.stop = true\n      }\n    }\n  \n    draw() {\n      this.circles.forEach(circle => circle.draw())\n    }\n  }\n  \n  class CursorSpecialEffects {\n    constructor() {\n      this.computerCanvas = document.createElement('canvas')\n      this.renderCanvas = document.createElement('canvas')\n  \n      this.computerContext = this.computerCanvas.getContext('2d')\n      this.renderContext = this.renderCanvas.getContext('2d')\n  \n      this.globalWidth = window.innerWidth\n      this.globalHeight = window.innerHeight\n  \n      this.booms = []\n      this.running = false\n    }\n  \n    handleMouseDown(e) {\n      const boom = new Boom({\n        origin: { x: e.clientX, y: e.clientY },\n        context: this.computerContext,\n        area: {\n          width: this.globalWidth,\n          height: this.globalHeight\n        }\n      })\n      boom.init()\n      this.booms.push(boom)\n      this.running || this.run()\n    }\n  \n    handlePageHide() {\n      this.booms = []\n      this.running = false\n    }\n  \n    init() {\n      const style = this.renderCanvas.style\n      style.position = 'fixed'\n      style.top = style.left = 0\n      style.zIndex = '999999999999999999999999999999999999999999'\n      style.pointerEvents = 'none'\n  \n      style.width = this.renderCanvas.width = this.computerCanvas.width = this.globalWidth\n      style.height = this.renderCanvas.height = this.computerCanvas.height = this.globalHeight\n  \n      document.body.append(this.renderCanvas)\n  \n      window.addEventListener('mousedown', this.handleMouseDown.bind(this))\n      window.addEventListener('pagehide', this.handlePageHide.bind(this))\n    }\n  \n    run() {\n      this.running = true\n      if (this.booms.length == 0) {\n        return this.running = false\n      }\n  \n      requestAnimationFrame(this.run.bind(this))\n  \n      this.computerContext.clearRect(0, 0, this.globalWidth, this.globalHeight)\n      this.renderContext.clearRect(0, 0, this.globalWidth, this.globalHeight)\n  \n      this.booms.forEach((boom, index) => {\n        if (boom.stop) {\n          return this.booms.splice(index, 1)\n        }\n        boom.move()\n        boom.draw()\n      })\n      this.renderContext.drawImage(this.computerCanvas, 0, 0, this.globalWidth, this.globalHeight)\n    }\n  }\n  \n  const cursorSpecialEffects = new CursorSpecialEffects()\n  cursorSpecialEffects.init()"]}